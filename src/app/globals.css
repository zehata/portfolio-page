@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

@view-transition {
  navigation: auto;
}

@keyframes bounce-exit {
  0% {
    transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);
  }

  20% {
    transform: matrix3d(1.41,-0.513,0,0,0.513,1.41,0,0,0,0,1,0,0,0,0,1);
  }
  
  100% {
    transform: matrix3d(0,0.1,0,0,0.1,0,0,0,0,0,1,0,0,0,0,1);
  }
}

@layer components {
  .selector-prev {
    transform: matrix3d(1.3,-0.06,-0.342,-0.002,-0.06,1.3,-0.342,0,0.342,0.342,0.94,0,0,0,0,1);
  }

  .selector-current {
    transform: matrix3d(1.4,0,0.00,-0.002,0.00,1.3,0.00,0,0,0,1,0,5,0,0,1);
    margin: 30px 0;
  }

  .selector-next {
    transform: matrix3d(1.3,0.06,0.342,-0.002,0.06,1.3,-0.342,0,-0.342,0.342,0.94,0,0,0,0,1);
  }

  .inner-box {
    opacity: 0;
    background-image: url('/test-image.jpg');
    background-size: cover;
    background-position: 50% 50%;
  }

  .outer-box {
    opacity: 0;
    backdrop-filter: invert(100%);
  }

  .selector-current .inner-box {
    opacity: 1;
    transform: matrix3d(0.94,-0.342,0,-0.002,0.342,0.94,0,0,0,0,1,0,-10,0,0,1);
  }

  .selector-current .outer-box {
    opacity: 1;
    transform: matrix3d(0.94,-0.342,0,-0.002,0.342,0.94,0,0,0,0,1,0,-10,0,0,1);
  }

  .menu-closed {
    transform: matrix3d(-0.1,0,0,0,0,-0.1,0,0,0,0,1,0,0,0,0,1);
    opacity: 0;
  }

  .shadow-center {
    box-shadow: 0 0 10px -5px;
  }

  .bounce-timing {
    transition-timing-function: cubic-bezier(.21,1.47,.7,.95);
  }
  
  .sidebar {
    view-transition-name: sidebar;
  }
  
  .sidebar-item {
    view-transition-name: sidebar-item;
  }
  
  .no-view-transition {
    view-transition-name: none;
  }

  .subMenu {
    view-transition-name: sub-menu;
  }

  .blogid {
    view-transition-name: blogid;
  }

  .paper {
    view-transition-name: paper;
  }

  .blog-content {
    view-transition-name: blog-content;
  }

  .background-image {
    view-transition-name: background-image;
  }

  .contact {
    view-transition-name: contact;
  }

  ::view-transition-old(root) {
    display: none;
  }

  ::view-transition-new(root) {
    animation: none;
  }

  ::view-transition-old(blog-content) {
    opacity: 1 !important;
  }

  ::view-transition-group(contact) {
    animation-duration: 1s;
  }

  ::view-transition-old(background-image) {
    z-index: -10;
  }

  ::view-transition-new(background-image) {
    display: none;
  }


  @media (width < 64rem) {
    ::view-transition-new(sidebar-item) {
      animation-duration: 100ms;
      opacity: 0;
    }
  }

  @media (width >= 64rem /* 1024px */) {
    ::view-transition-new(sidebar-item) {
      background-color: white;
    }
  }
}